{
  "$schema": "https://opencode.ai/config.json",
  "model": "anthropic/claude-opus-4-5",
  "processIdleTimeout": 30,
  "notifications": {
    "enabled": true,
    "delayMs": 5000
  },
  "sandbox": {
    "enabled": true,
    "network": {
      "allowedDomains": [
        "github.com",
        "*.github.com",
        "api.github.com",
        "npmjs.org",
        "*.npmjs.org",
        "registry.npmjs.org",
        "bun.sh",
        "*.bun.sh"
      ],
      "deniedDomains": [],
      "allowLocalBinding": true,
      "allowUnixSockets": ["/tmp/swarm-api.sock"],
      "socketBridges": {
        "/tmp/swarm-api.sock": "localhost:3456"
      }
    },
    "filesystem": {
      "denyRead": ["~/.ssh", "~/.gnupg", "~/.aws/credentials"],
      "allowWrite": [".", "/tmp", "/home/roy/.cache"],
      "denyWrite": [".env", ".env.local", "*.pem", "*.key"]
    }
  },
  "tui": {
    "show_header": false
  },
  "theme": "swarm",
  "permission": {
    "edit": "ask",
    "webfetch": "ask",
    "external_directory": "ask",
    "bash": {
      "gcloud *": "pin",
      "gsutil *": "pin",
      "rm -rf *": "deny",
      "rm -r *": "deny",
      "rm -R *": "deny",
      "rm --recursive *": "deny",
      "rm -fr *": "deny",
      "rm -f *": "pin",
      "rm *": "pin",
      "sudo *": "ask",
      "chmod *": "ask",
      "chown *": "deny",
      "chgrp *": "deny",
      "dd *": "deny",
      "mkfs *": "deny",
      "fdisk *": "deny",
      "reboot*": "deny",
      "shutdown*": "deny",
      "halt*": "deny",
      "poweroff*": "deny",
      "init *": "deny",
      "eval *": "deny",
      "exec rm *": "pin",
      "exec mv *": "deny",
      "find * -delete": "pin",
      "find * -exec rm *": "pin",
      "* | xargs rm *": "pin",
      "shred *": "deny",
      "bash -c *": "ask",
      "sh -c *": "ask",
      "> /dev/*": "deny",
      "> /etc/*": "deny",
      "> /boot/*": "deny",
      "> /sys/*": "deny",
      "> /proc/*": "deny",
      "mv *.duckdb *": "deny",
      "rm *.duckdb": "pin",
      "truncate *": "ask",
      "unlink *": "ask",
      "systemctl reboot*": "deny",
      "systemctl poweroff*": "deny",
      "systemctl halt*": "deny",
      "systemctl stop *": "ask",
      "systemctl reload *": "ask",
      "service * stop": "ask",
      "git clean -f*": "ask",
      "git clean -d*": "ask",
      "git clean -x*": "ask",
      "git branch -D *": "ask",
      "git reflog expire*": "deny",
      "git filter-branch*": "deny",
      "git push *": "pin",
      "git push --force *": "deny",
      "git force-push *": "deny",
      "git reset --hard *": "deny",
      "git add *": "ask",
      "git commit *": "pin",
      "git checkout *": "ask",
      "git merge *": "ask",
      "git rebase *": "ask",
      "kill *": "ask",
      "killall *": "ask",
      "pkill *": "ask",
      "npm uninstall *": "ask",
      "npm remove *": "ask",
      "bun remove *": "ask",
      "cargo uninstall *": "ask",
      "apt remove *": "deny",
      "apt purge *": "deny",
      "mount *": "deny",
      "umount *": "deny",
      "fsck *": "deny",
      "wget * | bash": "deny",
      "wget * | sh": "deny",
      "curl * | bash": "deny",
      "curl * | sh": "deny",
      "tar * --remove-files": "deny",
      "rsync --delete *": "ask",
      "rsync -delete *": "ask",
      "pwd": "allow",
      "ls": "allow",
      "ls *": "allow",
      "cat *": "allow",
      "head *": "allow",
      "tail *": "allow",
      "less *": "allow",
      "more *": "allow",
      "grep *": "allow",
      "rg *": "allow",
      "find *": "allow",
      "file *": "allow",
      "wc *": "allow",
      "echo *": "allow",
      "printf *": "allow",
      "which *": "allow",
      "whereis *": "allow",
      "type *": "allow",
      "tree *": "allow",
      "ps *": "allow",
      "top": "allow",
      "htop": "allow",
      "pgrep *": "allow",
      "git status*": "allow",
      "git diff*": "allow",
      "git log*": "allow",
      "git show*": "allow",
      "git branch": "allow",
      "git branch -v": "allow",
      "git branch -a": "allow",
      "git remote*": "allow",
      "git fetch*": "allow",
      "git pull*": "allow",
      "git stash*": "allow",
      "cargo check": "allow",
      "cargo test*": "allow",
      "cargo build*": "allow",
      "cargo run*": "allow",
      "npm test*": "allow",
      "npm run *": "allow",
      "npm install": "allow",
      "npm install *": "allow",
      "bun test*": "allow",
      "bun run *": "allow",
      "bun install": "allow",
      "bun dev*": "allow",
      "node *": "allow",
      "python *": "allow",
      "python3 *": "allow",
      "cd *": "allow",
      "mkdir *": "ask",
      "touch *": "ask",
      "cp *": "ask",
      "mv *": "ask",
      "*": "ask",
      "bunx tsc *": "allow"
    }
  },
  "agent": {
    "build": {
      "mode": "primary",
      "model": "anthropic/claude-opus-4-5",
      "description": "Full development mode with permission controls for code modifications",
      "prompt": "You are in BUILD mode. Full development capabilities with controlled permissions for code modifications.\n\n⚠️ IMPORTANT RULES:\n- DO NOT create git commits unless the user EXPLICITLY asks you to commit\n- DO NOT run git add, git commit, git push, or any git modification commands without explicit user request\n- DO NOT kill processes without explicit permission\n- You may ONLY read git state (git status, git diff, git log)\n- When the user asks to commit, ALWAYS ask for their approval before executing",
      "tools": {
        "bash": true,
        "edit": true,
        "write": true,
        "read": true,
        "grep": true,
        "glob": true,
        "list": true,
        "todowrite": true,
        "todoread": true,
        "webfetch": true
      },
      "permission": {
        "edit": "ask",
        "write": "ask",
        "bash": {
          "gcloud *": "pin",
          "gsutil *": "pin",
          "rm -rf *": "deny",
          "rm -r *": "deny",
          "rm -R *": "deny",
          "rm --recursive *": "deny",
          "rm -fr *": "deny",
          "rm -f *": "pin",
          "rm *": "pin",
          "sudo *": "ask",
          "chmod *": "ask",
          "chown *": "deny",
          "dd *": "deny",
          "mkfs *": "deny",
          "fdisk *": "deny",
          "reboot*": "deny",
          "shutdown*": "deny",
          "halt*": "deny",
          "poweroff*": "deny",
          "init *": "deny",
          "eval *": "deny",
          "exec rm *": "pin",
          "exec mv *": "deny",
          "find * -delete": "pin",
          "find * -exec rm *": "pin",
          "* | xargs rm *": "pin",
          "shred *": "deny",
          "bash -c *": "ask",
          "sh -c *": "ask",
          "> /dev/*": "deny",
          "> /etc/*": "deny",
          "> /boot/*": "deny",
          "> /sys/*": "deny",
          "> /proc/*": "deny",
          "mv *.duckdb *": "deny",
          "rm *.duckdb": "pin",
          "truncate *": "ask",
          "unlink *": "ask",
          "systemctl reboot*": "deny",
          "systemctl poweroff*": "deny",
          "systemctl halt*": "deny",
          "systemctl stop *": "ask",
          "systemctl reload *": "ask",
          "service * stop": "ask",
          "git clean -f*": "ask",
          "git clean -d*": "ask",
          "git clean -x*": "ask",
          "git branch -D *": "ask",
          "git reflog expire*": "deny",
          "git filter-branch*": "deny",
          "git push *": "pin",
          "git push --force *": "deny",
          "git force-push *": "deny",
          "git reset --hard *": "deny",
          "git add *": "ask",
          "git commit *": "pin",
          "git checkout *": "ask",
          "git merge *": "ask",
          "git rebase *": "ask",
          "kill *": "ask",
          "killall *": "ask",
          "pkill *": "ask",
          "npm uninstall *": "ask",
          "npm remove *": "ask",
          "bun remove *": "ask",
          "cargo uninstall *": "ask",
          "apt remove *": "deny",
          "apt purge *": "deny",
          "mount *": "deny",
          "umount *": "deny",
          "fsck *": "deny",
          "wget * | bash": "deny",
          "wget * | sh": "deny",
          "curl * | bash": "deny",
          "curl * | sh": "deny",
          "tar * --remove-files": "deny",
          "rsync --delete *": "ask",
          "rsync -delete *": "ask",
          "pwd": "allow",
          "ls": "allow",
          "ls *": "allow",
          "cat *": "allow",
          "head *": "allow",
          "tail *": "allow",
          "less *": "allow",
          "more *": "allow",
          "grep *": "allow",
          "rg *": "allow",
          "find *": "allow",
          "file *": "allow",
          "wc *": "allow",
          "echo *": "allow",
          "printf *": "allow",
          "which *": "allow",
          "whereis *": "allow",
          "type *": "allow",
          "tree *": "allow",
          "ps *": "allow",
          "top": "allow",
          "htop": "allow",
          "pgrep *": "allow",
          "git status*": "allow",
          "git diff*": "allow",
          "git log*": "allow",
          "git show*": "allow",
          "git branch": "allow",
          "git branch -v": "allow",
          "git branch -a": "allow",
          "git remote*": "allow",
          "git fetch*": "allow",
          "git pull*": "allow",
          "git stash*": "allow",
          "cargo check": "allow",
          "cargo test*": "allow",
          "cargo build*": "allow",
          "cargo run*": "allow",
          "npm test*": "allow",
          "npm run *": "allow",
          "npm install": "allow",
          "npm install *": "allow",
          "bun test*": "allow",
          "bun run *": "allow",
          "bun install": "allow",
          "bun dev*": "allow",
          "node *": "allow",
          "python *": "allow",
          "python3 *": "allow",
          "cd *": "allow",
          "mkdir *": "ask",
          "touch *": "ask",
          "cp *": "ask",
          "mv *": "ask",
          "pm2 logs *": "allow",
          "*": "ask"
        }
      }
    },
    "plan": {
      "mode": "primary",
      "model": "anthropic/claude-opus-4-5",
      "description": "Analysis and planning mode - searches code, gathers context, and uses exit-plan-mode tool to present plans",
      "prompt": "You are in PLAN mode - an intelligent orchestrator that efficiently gathers information and creates implementation plans.\n\n# Core Responsibilities\n1) Search and examine the codebase using Read, Grep, Glob, and Bash (read-only) tools\n2) Intelligently spawn specialized subagents for efficient information gathering\n3) Synthesize findings from multiple sources into comprehensive plans\n4) MUST call exit-plan-mode tool to present your plan (DO NOT just write plans in chat)\n5) You cannot modify files - only read and analyze\n\n# Intelligent Subagent Orchestration\n\nYou have access to powerful specialized subagents via the Task tool:\n- @explore: Codebase exploration specialist - finds files, reads code, searches patterns, understands architecture\n- @strategist: Planning/analysis specialist - breaks down tasks, identifies dependencies, creates strategies\n- @general: General-purpose research agent for complex multi-step searches\n\n## When to Spawn Subagents\n\nSpawn MULTIPLE @explore agents in PARALLEL when:\n- Question spans 5-10+ files across different areas\n- Need to explore multiple independent modules/directories\n- Gathering context from different layers (UI, API, DB, etc.)\n- Each area needs focused, targeted exploration\n\nSpawn @strategist subagents when:\n- Complex feature requires architectural analysis\n- Need to break down multi-component implementations\n- Analyzing different aspects of a large change (frontend + backend + tests)\n\nSpawn @general when:\n- Complex searches that may need multiple iterations\n- Uncertain about where to find specific code patterns\n\n## Orchestration Best Practices\n\n1. Parallel Execution: Call multiple Task tools in a SINGLE message for independent areas\n2. Targeted Instructions: Give each subagent SPECIFIC, FOCUSED instructions - not generic prompts\n3. Divide & Conquer: Split large codebases by directory, layer, or concern\n4. Aggregate Results: Synthesize findings from ALL subagents before presenting plan\n5. Token Efficiency: Smaller focused contexts per subagent vs one massive context\n\n## Example Orchestration Pattern\n\nUser asks: How does authentication work across the system?\n\nYour approach:\n1. Identify areas: auth/, api/, middleware/, frontend/\n2. Spawn 4 parallel @explore agents with targeted prompts\n3. Wait for all subagents to return findings\n4. Synthesize comprehensive understanding\n5. Call exit-plan-mode with complete plan\n\n## Direct Exploration vs Subagents\n\nUse direct tools (Read/Grep/Glob) when:\n- Quick single-file checks\n- Simple pattern searches\n- Confirming specific details\n\nUse subagents when:\n- Exploring 5+ files\n- Cross-cutting concerns spanning multiple areas\n- Complex architectural understanding needed\n- Parallel exploration improves efficiency\n\nRemember: You are a synth for the user's brain - intelligently orchestrate information gathering to provide comprehensive, efficient analysis.",
      "tools": {
        "bash": true,
        "edit": false,
        "write": false,
        "read": true,
        "grep": true,
        "glob": true,
        "list": true,
        "todoread": true,
        "todowrite": true,
        "webfetch": true,
        "task": true
      },
      "permission": {
        "edit": "deny",
        "write": "deny",
        "bash": {
          "rm -rf *": "deny",
          "rm -r *": "deny",
          "rm -f *": "deny",
          "rm *": "deny",
          "sudo *": "ask",
          "chmod *": "deny",
          "chown *": "deny",
          "dd *": "deny",
          "mkfs *": "deny",
          "fdisk *": "deny",
          "reboot*": "deny",
          "shutdown*": "deny",
          "halt*": "deny",
          "poweroff*": "deny",
          "init *": "deny",
          "eval *": "deny",
          "exec rm *": "deny",
          "exec mv *": "deny",
          "find * -delete": "deny",
          "find * -exec rm *": "deny",
          "* | xargs rm *": "deny",
          "shred *": "deny",
          "bash -c *": "deny",
          "sh -c *": "deny",
          "> /dev/*": "deny",
          "> /etc/*": "deny",
          "> /boot/*": "deny",
          "> /sys/*": "deny",
          "> /proc/*": "deny",
          "mv *.duckdb *": "deny",
          "rm *.duckdb": "deny",
          "truncate *": "deny",
          "unlink *": "deny",
          "systemctl reboot*": "deny",
          "systemctl poweroff*": "deny",
          "systemctl halt*": "deny",
          "systemctl stop *": "deny",
          "service * stop": "deny",
          "git clean -f*": "deny",
          "git clean -d*": "deny",
          "git clean -x*": "deny",
          "git branch -D *": "deny",
          "git reflog expire*": "deny",
          "git filter-branch*": "deny",
          "git push *": "deny",
          "git push --force *": "deny",
          "git force-push *": "deny",
          "git reset --hard *": "deny",
          "git add *": "deny",
          "git commit *": "deny",
          "git checkout *": "deny",
          "git merge *": "deny",
          "git rebase *": "deny",
          "kill *": "deny",
          "killall *": "deny",
          "pkill *": "deny",
          "npm uninstall *": "deny",
          "npm remove *": "deny",
          "bun remove *": "deny",
          "cargo uninstall *": "deny",
          "apt remove *": "deny",
          "apt purge *": "deny",
          "mount *": "deny",
          "umount *": "deny",
          "fsck *": "deny",
          "wget * | bash": "deny",
          "wget * | sh": "deny",
          "curl * | bash": "deny",
          "curl * | sh": "deny",
          "tar * --remove-files": "deny",
          "rsync --delete *": "deny",
          "rsync -delete *": "deny",
          "mkdir *": "deny",
          "touch *": "deny",
          "cp *": "deny",
          "mv *": "deny",
          "pwd": "allow",
          "ls": "allow",
          "ls *": "allow",
          "cat *": "allow",
          "head *": "allow",
          "tail *": "allow",
          "less *": "allow",
          "more *": "allow",
          "grep *": "allow",
          "rg *": "allow",
          "find *": "allow",
          "file *": "allow",
          "wc *": "allow",
          "echo *": "allow",
          "printf *": "allow",
          "which *": "allow",
          "whereis *": "allow",
          "type *": "allow",
          "tree *": "allow",
          "ps *": "allow",
          "top": "allow",
          "htop": "allow",
          "pgrep *": "allow",
          "git status*": "allow",
          "git diff*": "allow",
          "git log*": "allow",
          "git show*": "allow",
          "git branch": "allow",
          "git branch -v": "allow",
          "git branch -a": "allow",
          "git remote*": "allow",
          "git fetch*": "allow",
          "git pull*": "allow",
          "git stash*": "allow",
          "cargo check": "allow",
          "cargo test*": "allow",
          "cargo build*": "allow",
          "cargo run*": "allow",
          "npm test*": "allow",
          "npm run *": "allow",
          "npm install": "allow",
          "npm install *": "allow",
          "bun test*": "allow",
          "bun run *": "allow",
          "bun install": "allow",
          "bun dev*": "allow",
          "node *": "allow",
          "python *": "allow",
          "python3 *": "allow",
          "cd *": "allow",
          "*": "ask"
        }
      }
    },
    "auto": {
      "mode": "primary",
      "model": "anthropic/claude-opus-4-5",
      "description": "Autonomous development mode with automatic permissions except for destructive operations",
      "prompt": "You are in AUTO mode. You can autonomously write code, edit files, and run commands. However, you must be careful with destructive operations.",
      "tools": {
        "bash": true,
        "edit": true,
        "write": true,
        "read": true,
        "grep": true,
        "glob": true,
        "list": true,
        "todowrite": true,
        "todoread": true,
        "webfetch": true
      },
      "permission": {
        "edit": "allow",
        "write": "allow",
        "webfetch": "allow",
        "bash": {
          "rm -rf *": "deny",
          "rm -r *": "deny",
          "rm -R *": "deny",
          "rm --recursive *": "deny",
          "rm -fr *": "deny",
          "rm -f *": "pin",
          "rm *": "pin",
          "sudo *": "ask",
          "chmod *": "ask",
          "chown *": "deny",
          "dd *": "deny",
          "mkfs *": "deny",
          "fdisk *": "deny",
          "reboot*": "deny",
          "shutdown*": "deny",
          "halt*": "deny",
          "poweroff*": "deny",
          "init *": "deny",
          "eval *": "deny",
          "exec rm *": "pin",
          "exec mv *": "deny",
          "find * -delete": "pin",
          "find * -exec rm *": "pin",
          "* | xargs rm *": "pin",
          "shred *": "deny",
          "bash -c *": "allow",
          "sh -c *": "allow",
          "> /dev/*": "deny",
          "> /etc/*": "deny",
          "> /boot/*": "deny",
          "> /sys/*": "deny",
          "> /proc/*": "deny",
          "mv *.duckdb *": "deny",
          "rm *.duckdb": "pin",
          "truncate *": "ask",
          "unlink *": "ask",
          "systemctl reboot*": "deny",
          "systemctl poweroff*": "deny",
          "systemctl halt*": "deny",
          "systemctl stop *": "ask",
          "systemctl reload *": "ask",
          "service * stop": "ask",
          "git clean -f*": "ask",
          "git clean -d*": "ask",
          "git clean -x*": "ask",
          "git branch -D *": "ask",
          "git reflog expire*": "deny",
          "git filter-branch*": "deny",
          "git push *": "pin",
          "git push --force *": "deny",
          "git force-push *": "deny",
          "git reset --hard *": "deny",
          "git add *": "ask",
          "git commit *": "pin",
          "git checkout *": "ask",
          "git merge *": "ask",
          "git rebase *": "ask",
          "kill *": "ask",
          "killall *": "ask",
          "pkill *": "ask",
          "npm uninstall *": "ask",
          "npm remove *": "ask",
          "bun remove *": "ask",
          "cargo uninstall *": "ask",
          "apt remove *": "deny",
          "apt purge *": "deny",
          "mount *": "deny",
          "umount *": "deny",
          "fsck *": "deny",
          "wget * | bash": "deny",
          "wget * | sh": "deny",
          "curl * | bash": "deny",
          "curl * | sh": "deny",
          "tar * --remove-files": "deny",
          "rsync --delete *": "ask",
          "rsync -delete *": "ask",
          "pwd": "allow",
          "ls": "allow",
          "ls *": "allow",
          "cat *": "allow",
          "head *": "allow",
          "tail *": "allow",
          "less *": "allow",
          "more *": "allow",
          "grep *": "allow",
          "rg *": "allow",
          "find *": "allow",
          "file *": "allow",
          "wc *": "allow",
          "echo *": "allow",
          "printf *": "allow",
          "which *": "allow",
          "whereis *": "allow",
          "type *": "allow",
          "tree *": "allow",
          "ps *": "allow",
          "top": "allow",
          "htop": "allow",
          "pgrep *": "allow",
          "git status*": "allow",
          "git diff*": "allow",
          "git log*": "allow",
          "git show*": "allow",
          "git branch": "allow",
          "git branch -v": "allow",
          "git branch -a": "allow",
          "git remote*": "allow",
          "git fetch*": "allow",
          "git pull*": "allow",
          "git stash*": "allow",
          "cargo check": "allow",
          "cargo test*": "allow",
          "cargo build*": "allow",
          "cargo run*": "allow",
          "npm test*": "allow",
          "npm run *": "allow",
          "npm install": "allow",
          "npm install *": "allow",
          "bun test*": "allow",
          "bun run *": "allow",
          "bun install": "allow",
          "bun dev*": "allow",
          "node *": "allow",
          "python *": "allow",
          "python3 *": "allow",
          "cd *": "allow",
          "mkdir *": "allow",
          "touch *": "allow",
          "cp *": "allow",
          "mv *": "allow",
          "*": "ask"
        }
      }
    }
  }
}